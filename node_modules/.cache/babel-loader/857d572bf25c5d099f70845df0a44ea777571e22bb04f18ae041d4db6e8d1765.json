{"ast":null,"code":"var _jsxFileName = \"/home/matthew/Developer/ga/unit_3/projects/movie-app/src/components/Reviews.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Reviews(props) {\n  _s();\n  const [reviews, setReviews] = useState([]);\n  const [newReview, setNewReview] = useState(\"\");\n  const [editReviewIndex, setEditReviewIndex] = useState(null);\n  const [editReviewText, setEditReviewText] = useState(\"\");\n  const [currentUser, setCurrentUser] = useState(\"user123\"); //set the current user\n\n  function handleAddReview(event) {\n    event.preventDefault();\n    const newReviewObj = {\n      text: newReview,\n      likes: 0,\n      dislikes: 0,\n      user: currentUser\n    }; //add user property to new review\n    setReviews([...reviews, newReviewObj]);\n    setNewReview(\"\");\n  }\n  function handleEditReview(index) {\n    if (reviews[index].user === currentUser)\n      //check if current user is the creator of the review\n      setEditReviewIndex(index);\n    setEditReviewText(reviews[index].text);\n  }\n  function handleUpdateReview(event) {\n    event.preventDefault();\n    const updatedReviews = [...reviews];\n    updatedReviews[editReviewIndex].text = editReviewText;\n    setReviews(updatedReviews);\n    setEditReviewIndex(null);\n    setEditReviewText(\"\");\n  }\n  function handleLikeReview(index) {\n    const updatedReviews = [...reviews];\n    updatedReviews[index].likes++;\n    setReviews(updatedReviews);\n  }\n  function handleDislikeReview(index) {\n    const updatedReviews = [...reviews];\n    updatedReviews[index].dislikes++;\n    setReviews(updatedReviews);\n  }\n  function handleDeleteReview(index) {\n    if (reviews[index].user === currentUser) {\n      //check if current user is the creator of the review\n      const updatedReviews = [...reviews];\n      updatedReviews.splice(index, 1);\n      setReviews(updatedReviews);\n    }\n  }\n  const handleBeforeUnload = event => {\n    event.preventDefault();\n    event.returnValue = \"\";\n  };\n  useEffect(() => {\n    window.addEventListener(\"beforeunload\", handleBeforeUnload);\n    const storedReviews = JSON.parse(localStorage.getItem(\"reviews\"));\n    if (storedReviews) {\n      setReviews(storedReviews);\n    }\n    return () => {\n      window.removeEventListener(\"beforeunload\", handleBeforeUnload);\n    };\n  }, []);\n  useEffect(() => {\n    localStorage.setItem(\"reviews\", JSON.stringify(reviews));\n  }, [reviews]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Reviews\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: reviews.map((review, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [editReviewIndex === index ? /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleUpdateReview,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: editReviewText,\n            onChange: event => setEditReviewText(event.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: review.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleEditReview(index),\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDeleteReview(index),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleLikeReview(index),\n            children: [\"Thumbs Up (\", review.likes, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDislikeReview(index),\n            children: [\"Thumbs Down (\", review.dislikes, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleAddReview,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"review\",\n          children: \"Add a review\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"review\",\n          value: newReview,\n          onChange: event => setNewReview(event.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n}\n_s(Reviews, \"BVMSPHZ5svirv0XBaPELv6jOoRg=\");\n_c = Reviews;\nexport { Reviews };\nvar _c;\n$RefreshReg$(_c, \"Reviews\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","Reviews","props","_s","reviews","setReviews","newReview","setNewReview","editReviewIndex","setEditReviewIndex","editReviewText","setEditReviewText","currentUser","setCurrentUser","handleAddReview","event","preventDefault","newReviewObj","text","likes","dislikes","user","handleEditReview","index","handleUpdateReview","updatedReviews","handleLikeReview","handleDislikeReview","handleDeleteReview","splice","handleBeforeUnload","returnValue","window","addEventListener","storedReviews","JSON","parse","localStorage","getItem","removeEventListener","setItem","stringify","children","fileName","_jsxFileName","lineNumber","columnNumber","map","review","onSubmit","type","value","onChange","target","onClick","htmlFor","id","required","_c","$RefreshReg$"],"sources":["/home/matthew/Developer/ga/unit_3/projects/movie-app/src/components/Reviews.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nfunction Reviews(props) {\n  const [reviews, setReviews] = useState([]);\n  const [newReview, setNewReview] = useState(\"\");\n  const [editReviewIndex, setEditReviewIndex] = useState(null);\n  const [editReviewText, setEditReviewText] = useState(\"\");\n  const [currentUser, setCurrentUser] = useState(\"user123\"); //set the current user\n\n  function handleAddReview(event) {\n    event.preventDefault();\n    const newReviewObj = {\n      text: newReview,\n      likes: 0,\n      dislikes: 0,\n      user: currentUser,\n    }; //add user property to new review\n    setReviews([...reviews, newReviewObj]);\n    setNewReview(\"\");\n  }\n\n  function handleEditReview(index) {\n    if (reviews[index].user === currentUser)\n      //check if current user is the creator of the review\n      setEditReviewIndex(index);\n    setEditReviewText(reviews[index].text);\n  }\n\n  function handleUpdateReview(event) {\n    event.preventDefault();\n    const updatedReviews = [...reviews];\n    updatedReviews[editReviewIndex].text = editReviewText;\n    setReviews(updatedReviews);\n    setEditReviewIndex(null);\n    setEditReviewText(\"\");\n  }\n\n  function handleLikeReview(index) {\n    const updatedReviews = [...reviews];\n    updatedReviews[index].likes++;\n    setReviews(updatedReviews);\n  }\n\n  function handleDislikeReview(index) {\n    const updatedReviews = [...reviews];\n    updatedReviews[index].dislikes++;\n    setReviews(updatedReviews);\n  }\n\n  function handleDeleteReview(index) {\n    if (reviews[index].user === currentUser) {\n      //check if current user is the creator of the review\n      const updatedReviews = [...reviews];\n      updatedReviews.splice(index, 1);\n      setReviews(updatedReviews);\n    }\n  }\n\n  const handleBeforeUnload = (event) => {\n    event.preventDefault();\n    event.returnValue = \"\";\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"beforeunload\", handleBeforeUnload);\n\n    const storedReviews = JSON.parse(localStorage.getItem(\"reviews\"));\n    if (storedReviews) {\n      setReviews(storedReviews);\n    }\n    return () => {\n      window.removeEventListener(\"beforeunload\", handleBeforeUnload);\n    };\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem(\"reviews\", JSON.stringify(reviews));\n  }, [reviews]);\n\n  return (\n    <div>\n      <h2>Reviews</h2>\n      <ul>\n        {reviews.map((review, index) => (\n          <li key={index}>\n            {editReviewIndex === index ? (\n              <form onSubmit={handleUpdateReview}>\n                <input\n                  type=\"text\"\n                  value={editReviewText}\n                  onChange={(event) => setEditReviewText(event.target.value)}\n                />\n                <button type=\"submit\">Update</button>\n              </form>\n            ) : (\n              <div>\n                <span>{review.text}</span>\n                <button onClick={() => handleEditReview(index)}>Edit</button>\n                <button onClick={() => handleDeleteReview(index)}>\n                  Delete\n                </button>\n              </div>\n            )}\n            <div>\n              <button onClick={() => handleLikeReview(index)}>\n                Thumbs Up ({review.likes})\n              </button>\n              <button onClick={() => handleDislikeReview(index)}>\n                Thumbs Down ({review.dislikes})\n              </button>\n            </div>\n          </li>\n        ))}\n      </ul>\n      <div>\n        <form onSubmit={handleAddReview}>\n          <label htmlFor=\"review\">Add a review</label>\n          <input\n            type=\"text\"\n            id=\"review\"\n            value={newReview}\n            onChange={(event) => setNewReview(event.target.value)}\n            required\n          />\n          <button type=\"submit\">Submit</button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport { Reviews };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}