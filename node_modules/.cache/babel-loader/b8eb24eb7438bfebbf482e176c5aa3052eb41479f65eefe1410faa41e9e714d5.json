{"ast":null,"code":"var _jsxFileName = \"/home/matthew/Developer/ga/unit_3/projects/movie-app/src/pages/MoviePage.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useController } from '../Controller';\nimport ReviewForm from '../components/ReviewForm';\nimport Review from '../components/Review';\nimport reviewService from '../services/reviewService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function MoviePage() {\n  _s();\n  const {\n    getMoviePage,\n    movie,\n    setMovie\n  } = useController();\n  const params = useParams();\n  const id = params.id;\n  const [reviews, setReviews] = useState([]);\n  async function createReview(review) {\n    try {\n      const newReview = await reviewService.createReview(review);\n      setReviews(oldReviews => [...oldReviews, newReview]);\n      console.log(reviews);\n    } catch (error) {\n      console.error(error);\n    }\n  }\n  async function getAllReviews() {\n    try {\n      const results = await reviewService.getAllReviews();\n      setReviews([...results]);\n    } catch (error) {\n      console.error(error);\n    }\n  }\n  useEffect(() => {\n    async function grabMovie() {\n      await setMovie(getMoviePage(id));\n    }\n    grabMovie();\n    getAllReviews();\n  }, []);\n  console.log(movie);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: movie && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: movie.Title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: [\"Rated \", movie.Rated]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: movie.Runtime\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: movie.Released\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: movie.Poster\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: movie.Actors\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: [\"Box Office: \", movie.BoxOffice]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: movie.Genre\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: movie.Plot\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(ReviewForm, {\n        createReview: createReview\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), reviews.map((review, i) => {\n        return /*#__PURE__*/_jsxDEV(Review, {\n          review: review\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 18\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n\n// {Title: 'Ant-Man and the Wasp: Quantumania', Year: '2023', Rated: 'PG-13', Released: '17 Feb 2023', Runtime: '124 min', …}Actors: \"Paul Rudd, Evangeline Lilly, Michael Douglas\"Awards: \"1 nomination\"BoxOffice: \"$190,205,913\"Country: \"United States, Australia, Canada\"DVD: \"N/A\"Director: \"Peyton Reed\"Genre: \"Action, Adventure, Comedy\"Language: \"English\"Metascore: \"48\"Plot: \"Scott Lang and Hope Van Dyne, along with Hank Pym and Janet Van Dyne, explore the Quantum Realm, where they interact with strange creatures and embark on an adventure that goes beyond the limits of what they thought was possible.\"Poster: \"https://m.media-amazon.com/images/M/MV5BODZhNzlmOGItMWUyYS00Y2Q5LWFlNzMtM2I2NDFkM2ZkYmE1XkEyXkFqcGdeQXVyMTU5OTA4NTIz._V1_SX300.jpg\"Production: \"N/A\"Rated: \"PG-13\"Ratings: [{…}]Released: \"17 Feb 2023\"Response: \"True\"Runtime: \"124 min\"Title: \"Ant-Man and the Wasp: Quantumania\"Type: \"movie\"Website: \"N/A\"Writer: \"Jeff Loveness, Stan Lee, Larry Lieber\"Year: \"2023\"imdbID: \"tt10954600\"imdbRating: \"N/A\"imdbVotes: \"82,062\"[[Prototype]]: Object\n_s(MoviePage, \"diq/RRDQ+j5nhaJWI8c7DlQUvmc=\", false, function () {\n  return [useController, useParams];\n});\n_c = MoviePage;\nvar _c;\n$RefreshReg$(_c, \"MoviePage\");","map":{"version":3,"names":["useState","useEffect","useParams","useController","ReviewForm","Review","reviewService","jsxDEV","_jsxDEV","Fragment","_Fragment","MoviePage","_s","getMoviePage","movie","setMovie","params","id","reviews","setReviews","createReview","review","newReview","oldReviews","console","log","error","getAllReviews","results","grabMovie","children","Title","fileName","_jsxFileName","lineNumber","columnNumber","Rated","Runtime","Released","src","Poster","Actors","BoxOffice","Genre","Plot","map","i","_c","$RefreshReg$"],"sources":["/home/matthew/Developer/ga/unit_3/projects/movie-app/src/pages/MoviePage.jsx"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\n\nimport { useController } from '../Controller'\nimport ReviewForm from '../components/ReviewForm'\nimport Review from '../components/Review'\nimport reviewService from '../services/reviewService'\n\nexport function MoviePage() {\n  const { getMoviePage, movie, setMovie } = useController()\n  const params = useParams()\n  const id = params.id\n\n  const [reviews, setReviews] = useState([])\n\n  async function createReview(review) {\n    try {\n      const newReview = await reviewService.createReview(review)\n      setReviews((oldReviews) => [...oldReviews, newReview])\n      console.log(reviews)\n    } catch (error) {\n      console.error(error)\n    }\n  }\n\n  async function getAllReviews() {\n    try {\n      const results = await reviewService.getAllReviews()\n      setReviews([...results])\n    } catch (error) {\n      console.error(error)\n    }\n  }\n\n  useEffect(() => {\n    async function grabMovie() {\n      await setMovie(getMoviePage(id))\n    }\n    grabMovie()\n    getAllReviews()\n  }, [])\n\n  console.log(movie)\n\n  return (\n    <div>\n      <div>\n        {movie && (\n          <>\n            <h1>{movie.Title}</h1>\n            <h4>Rated {movie.Rated}</h4>\n            <h4>{movie.Runtime}</h4>\n            <h4>{movie.Released}</h4>\n\n            <img src={movie.Poster} />\n            <h4>{movie.Actors}</h4>\n            <h4>Box Office: {movie.BoxOffice}</h4>\n            <h4>{movie.Genre}</h4>\n            <p>{movie.Plot}</p>\n          </>\n        )}\n      </div>\n      <div>\n        <ReviewForm createReview={createReview} />\n        {reviews.map((review, i) => {\n          return <Review key={i} review={review} />\n        })}\n      </div>\n    </div>\n  )\n}\n\n// {Title: 'Ant-Man and the Wasp: Quantumania', Year: '2023', Rated: 'PG-13', Released: '17 Feb 2023', Runtime: '124 min', …}Actors: \"Paul Rudd, Evangeline Lilly, Michael Douglas\"Awards: \"1 nomination\"BoxOffice: \"$190,205,913\"Country: \"United States, Australia, Canada\"DVD: \"N/A\"Director: \"Peyton Reed\"Genre: \"Action, Adventure, Comedy\"Language: \"English\"Metascore: \"48\"Plot: \"Scott Lang and Hope Van Dyne, along with Hank Pym and Janet Van Dyne, explore the Quantum Realm, where they interact with strange creatures and embark on an adventure that goes beyond the limits of what they thought was possible.\"Poster: \"https://m.media-amazon.com/images/M/MV5BODZhNzlmOGItMWUyYS00Y2Q5LWFlNzMtM2I2NDFkM2ZkYmE1XkEyXkFqcGdeQXVyMTU5OTA4NTIz._V1_SX300.jpg\"Production: \"N/A\"Rated: \"PG-13\"Ratings: [{…}]Released: \"17 Feb 2023\"Response: \"True\"Runtime: \"124 min\"Title: \"Ant-Man and the Wasp: Quantumania\"Type: \"movie\"Website: \"N/A\"Writer: \"Jeff Loveness, Stan Lee, Larry Lieber\"Year: \"2023\"imdbID: \"tt10954600\"imdbRating: \"N/A\"imdbVotes: \"82,062\"[[Prototype]]: Object\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}