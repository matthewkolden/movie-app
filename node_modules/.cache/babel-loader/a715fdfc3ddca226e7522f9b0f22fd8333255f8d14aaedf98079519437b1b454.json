{"ast":null,"code":"import _regeneratorRuntime from\"/home/matthew/Developer/ga/unit_3/projects/movie-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/matthew/Developer/ga/unit_3/projects/movie-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/matthew/Developer/ga/unit_3/projects/movie-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/matthew/Developer/ga/unit_3/projects/movie-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";import axios from'axios';var ReviewService=/*#__PURE__*/function(){function ReviewService(){_classCallCheck(this,ReviewService);this.baseURL='http://localhost:3001/api/reviews';this.instance=axios.create({baseURL:this.baseURL});this.initializeResponseInterceptor();}_createClass(ReviewService,[{key:\"initializeResponseInterceptor\",value:function initializeResponseInterceptor(){this.instance.interceptors.response.use(this.handleResponse,this.handleError);}},{key:\"handleResponse\",value:function handleResponse(_ref){var data=_ref.data;return data;}},{key:\"handleError\",value:function handleError(error){throw error;}},{key:\"getAllReviews\",value:function(){var _getAllReviews=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return this.instance.get('/');case 2:return _context.abrupt(\"return\",_context.sent);case 3:case\"end\":return _context.stop();}},_callee,this);}));function getAllReviews(){return _getAllReviews.apply(this,arguments);}return getAllReviews;}()},{key:\"createReview\",value:function(){var _createReview=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(review,movie,moviePoster,user,moviePageLink){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:console.log(user);console.log(moviePoster);_context2.next=4;return this.instance.post('/',{body:review.body,author:review.author,movie:movie,moviePoster:moviePoster,user:user,moviePageLink:moviePageLink});case 4:return _context2.abrupt(\"return\",_context2.sent);case 5:case\"end\":return _context2.stop();}},_callee2,this);}));function createReview(_x,_x2,_x3,_x4,_x5){return _createReview.apply(this,arguments);}return createReview;}()},{key:\"deleteReview\",value:function(){var _deleteReview=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return this.instance.delete(\"/\".concat(id));case 2:return _context3.abrupt(\"return\",_context3.sent);case 3:case\"end\":return _context3.stop();}},_callee3,this);}));function deleteReview(_x6){return _deleteReview.apply(this,arguments);}return deleteReview;}()},{key:\"updateReview\",value:function(){var _updateReview=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(id,review,user){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return this.instance.put(\"/\".concat(id),{body:review.body,author:review.author,user:review.user});case 2:return _context4.abrupt(\"return\",_context4.sent);case 3:case\"end\":return _context4.stop();}},_callee4,this);}));function updateReview(_x7,_x8,_x9){return _updateReview.apply(this,arguments);}return updateReview;}()}]);return ReviewService;}();var reviewService=new ReviewService();export default reviewService;","map":{"version":3,"names":["axios","ReviewService","_classCallCheck","baseURL","instance","create","initializeResponseInterceptor","_createClass","key","value","interceptors","response","use","handleResponse","handleError","_ref","data","error","_getAllReviews","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","get","abrupt","sent","stop","getAllReviews","apply","arguments","_createReview","_callee2","review","movie","moviePoster","user","moviePageLink","_callee2$","_context2","console","log","post","body","author","createReview","_x","_x2","_x3","_x4","_x5","_deleteReview","_callee3","id","_callee3$","_context3","delete","concat","deleteReview","_x6","_updateReview","_callee4","_callee4$","_context4","put","updateReview","_x7","_x8","_x9","reviewService"],"sources":["/home/matthew/Developer/ga/unit_3/projects/movie-app/src/services/reviewService.js"],"sourcesContent":["import axios from 'axios'\n\nclass ReviewService {\n  baseURL = 'http://localhost:3001/api/reviews'\n\n  constructor() {\n    this.instance = axios.create({ baseURL: this.baseURL })\n    this.initializeResponseInterceptor()\n  }\n\n  initializeResponseInterceptor() {\n    this.instance.interceptors.response.use(\n      this.handleResponse,\n      this.handleError\n    )\n  }\n\n  handleResponse({ data }) {\n    return data\n  }\n\n  handleError(error) {\n    throw error\n  }\n\n  async getAllReviews() {\n    return await this.instance.get('/')\n  }\n\n  async createReview(review, movie, moviePoster, user, moviePageLink) {\n    console.log(user)\n    console.log(moviePoster)\n    return await this.instance.post('/', {\n      body: review.body,\n      author: review.author,\n      movie: movie,\n      moviePoster: moviePoster,\n      user: user,\n      moviePageLink: moviePageLink\n    })\n  }\n\n  async deleteReview(id) {\n    return await this.instance.delete(`/${id}`)\n  }\n\n  async updateReview(id, review, user) {\n    return await this.instance.put(`/${id}`, {\n      body: review.body,\n      author: review.author,\n      user: review.user\n    })\n  }\n}\n\nconst reviewService = new ReviewService()\nexport default reviewService\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}