{"ast":null,"code":"import _regeneratorRuntime from\"/home/matthew/Developer/ga/unit_3/projects/movie-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/matthew/Developer/ga/unit_3/projects/movie-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/matthew/Developer/ga/unit_3/projects/movie-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useController}from'../../Controller';import{useState}from'react';import{Link}from'react-router-dom';import adminPageClasses from'./adminPageClasses';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function AdminPage(){var _useController=useController(),getMovie=_useController.getMovie,movies=_useController.movies;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var handleInputChange=function handleInputChange(event){setInput(event.target.value);};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return getMovie(input);case 2:setInput('');case 3:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:adminPageClasses.container,children:[/*#__PURE__*/_jsx(\"h1\",{className:adminPageClasses.heading,children:\"Movie Selection\"}),/*#__PURE__*/_jsx(\"p\",{className:adminPageClasses.addMovie,children:\"Add a New Movie\"}),/*#__PURE__*/_jsx(\"input\",{className:adminPageClasses.input,type:\"text\",value:input,onChange:handleInputChange,onKeyDown:function onKeyDown(e){e.key==='Enter'&&handleSubmit();}}),/*#__PURE__*/_jsx(\"h4\",{className:adminPageClasses.movieHeader,children:\"Current movies:\"}),/*#__PURE__*/_jsx(\"div\",{className:adminPageClasses.moviesContainer,children:movies.map(function(movie,i){return movie?/*#__PURE__*/_jsx(Loaded,{movie:movie},i):/*#__PURE__*/_jsx(Loading,{});})})]});}var Loaded=function Loaded(_ref2){var movie=_ref2.movie;var _useController2=useController(),deleteMovie=_useController2.deleteMovie;var handleDelete=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(event){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:event.preventDefault();deleteMovie(movie._id);case 2:case\"end\":return _context2.stop();}},_callee2);}));return function handleDelete(_x){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:adminPageClasses.moviesContainer2,style:{width:'400px'},children:[/*#__PURE__*/_jsx(\"div\",{className:adminPageClasses.delete,children:/*#__PURE__*/_jsx(\"span\",{className:\"cursor-pointer\",onClick:handleDelete,children:\"\\u2715\"})}),/*#__PURE__*/_jsx(Link,{to:\"/\".concat(movie.title),className:adminPageClasses.link,children:/*#__PURE__*/_jsx(\"img\",{className:adminPageClasses.image,src:movie.poster,alt:movie.title})}),/*#__PURE__*/_jsx(\"div\",{className:adminPageClasses.infoContainer,children:/*#__PURE__*/_jsxs(\"div\",{className:adminPageClasses.infoContainer2,children:[/*#__PURE__*/_jsx(\"p\",{className:adminPageClasses.title,children:movie.title}),/*#__PURE__*/_jsxs(\"p\",{children:[\"(\",movie.rating,\")\"]})]})})]});};var Loading=function Loading(){return/*#__PURE__*/_jsx(_Fragment,{});};","map":{"version":3,"names":["useController","useState","Link","adminPageClasses","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AdminPage","_useController","getMovie","movies","_useState","_useState2","_slicedToArray","input","setInput","handleInputChange","event","target","value","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","stop","apply","arguments","className","container","children","heading","addMovie","type","onChange","onKeyDown","e","key","movieHeader","moviesContainer","map","movie","i","Loaded","Loading","_ref2","_useController2","deleteMovie","handleDelete","_ref3","_callee2","_callee2$","_context2","preventDefault","_id","_x","moviesContainer2","style","width","delete","onClick","to","concat","title","link","image","src","poster","alt","infoContainer","infoContainer2","rating"],"sources":["/home/matthew/Developer/ga/unit_3/projects/movie-app/src/pages/AdminPage/AdminPage.jsx"],"sourcesContent":["import { useController } from '../../Controller'\nimport { useState } from 'react'\nimport { Link } from 'react-router-dom'\n\nimport adminPageClasses from './adminPageClasses'\n\nexport default function AdminPage() {\n  const { getMovie, movies } = useController()\n  const [input, setInput] = useState('')\n\n  const handleInputChange = (event) => {\n    setInput(event.target.value)\n  }\n\n  const handleSubmit = async () => {\n    await getMovie(input)\n    setInput('')\n  }\n\n  return (\n    <div className={adminPageClasses.container}>\n      <h1 className={adminPageClasses.heading}>Movie Selection</h1>\n      <p className={adminPageClasses.addMovie}>Add a New Movie</p>\n      <input\n        className={adminPageClasses.input}\n        type=\"text\"\n        value={input}\n        onChange={handleInputChange}\n        onKeyDown={(e) => {\n          e.key === 'Enter' && handleSubmit()\n        }}\n      />\n      <h4 className={adminPageClasses.movieHeader}>Current movies:</h4>\n      <div className={adminPageClasses.moviesContainer}>\n        {movies.map((movie, i) =>\n          movie ? <Loaded movie={movie} key={i} /> : <Loading />\n        )}\n      </div>\n    </div>\n  )\n}\n\nconst Loaded = ({ movie }) => {\n  const { deleteMovie } = useController()\n\n  const handleDelete = async (event) => {\n    event.preventDefault()\n    deleteMovie(movie._id)\n  }\n\n  return (\n    <div\n      className={adminPageClasses.moviesContainer2}\n      style={{ width: '400px' }}\n    >\n      <div className={adminPageClasses.delete}>\n        <span className=\"cursor-pointer\" onClick={handleDelete}>\n          &#10005;\n        </span>\n      </div>\n      <Link to={`/${movie.title}`} className={adminPageClasses.link}>\n        <img\n          className={adminPageClasses.image}\n          src={movie.poster}\n          alt={movie.title}\n        />\n      </Link>\n      <div className={adminPageClasses.infoContainer}>\n        <div className={adminPageClasses.infoContainer2}>\n          <p className={adminPageClasses.title}>{movie.title}</p>\n          <p>({movie.rating})</p>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst Loading = () => {\n  return <></>\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}