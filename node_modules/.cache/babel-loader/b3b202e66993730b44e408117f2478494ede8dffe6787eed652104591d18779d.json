{"ast":null,"code":"import axios from 'axios';\nclass ReviewService {\n  constructor() {\n    this.baseURL = '/api/reviews';\n    this.instance = axios.create({\n      baseURL: this.baseURL\n    });\n    this.initializeResponseInterceptor();\n  }\n  initializeResponseInterceptor() {\n    this.instance.interceptors.response.use(this.handleResponse, this.handleError);\n  }\n  handleResponse(_ref) {\n    let {\n      data\n    } = _ref;\n    return data;\n  }\n  handleError(error) {\n    throw error;\n  }\n  async getAllReviews() {\n    return await this.instance.get('/');\n  }\n  async createReview(review, movie, moviePoster, user, moviePageLink) {\n    console.log(user);\n    console.log(moviePoster);\n    return await this.instance.post('/', {\n      body: review.body,\n      author: review.author,\n      movie: movie,\n      moviePoster: moviePoster,\n      user: user,\n      moviePageLink: moviePageLink\n    });\n  }\n  async deleteReview(id) {\n    return await this.instance.delete(`/${id}`);\n  }\n  async updateReview(id, review, user) {\n    return await this.instance.put(`/${id}`, {\n      body: review.body,\n      author: review.author,\n      user: review.user\n    });\n  }\n}\nconst reviewService = new ReviewService();\nexport default reviewService;","map":{"version":3,"names":["axios","ReviewService","constructor","baseURL","instance","create","initializeResponseInterceptor","interceptors","response","use","handleResponse","handleError","_ref","data","error","getAllReviews","get","createReview","review","movie","moviePoster","user","moviePageLink","console","log","post","body","author","deleteReview","id","delete","updateReview","put","reviewService"],"sources":["/home/matthew/Developer/ga/unit_3/projects/movie-app/src/services/reviewService.js"],"sourcesContent":["import axios from 'axios'\n\nclass ReviewService {\n  baseURL = '/api/reviews'\n\n  constructor() {\n    this.instance = axios.create({ baseURL: this.baseURL })\n    this.initializeResponseInterceptor()\n  }\n\n  initializeResponseInterceptor() {\n    this.instance.interceptors.response.use(\n      this.handleResponse,\n      this.handleError\n    )\n  }\n\n  handleResponse({ data }) {\n    return data\n  }\n\n  handleError(error) {\n    throw error\n  }\n\n  async getAllReviews() {\n    return await this.instance.get('/')\n  }\n\n  async createReview(review, movie, moviePoster, user, moviePageLink) {\n    console.log(user)\n    console.log(moviePoster)\n    return await this.instance.post('/', {\n      body: review.body,\n      author: review.author,\n      movie: movie,\n      moviePoster: moviePoster,\n      user: user,\n      moviePageLink: moviePageLink,\n    })\n  }\n\n  async deleteReview(id) {\n    return await this.instance.delete(`/${id}`)\n  }\n\n  async updateReview(id, review, user) {\n    return await this.instance.put(`/${id}`, {\n      body: review.body,\n      author: review.author,\n      user: review.user,\n    })\n  }\n}\n\nconst reviewService = new ReviewService()\nexport default reviewService\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,aAAa,CAAC;EAGlBC,WAAWA,CAAA,EAAG;IAAA,KAFdC,OAAO,GAAG,cAAc;IAGtB,IAAI,CAACC,QAAQ,GAAGJ,KAAK,CAACK,MAAM,CAAC;MAAEF,OAAO,EAAE,IAAI,CAACA;IAAQ,CAAC,CAAC;IACvD,IAAI,CAACG,6BAA6B,EAAE;EACtC;EAEAA,6BAA6BA,CAAA,EAAG;IAC9B,IAAI,CAACF,QAAQ,CAACG,YAAY,CAACC,QAAQ,CAACC,GAAG,CACrC,IAAI,CAACC,cAAc,EACnB,IAAI,CAACC,WAAW,CACjB;EACH;EAEAD,cAAcA,CAAAE,IAAA,EAAW;IAAA,IAAV;MAAEC;IAAK,CAAC,GAAAD,IAAA;IACrB,OAAOC,IAAI;EACb;EAEAF,WAAWA,CAACG,KAAK,EAAE;IACjB,MAAMA,KAAK;EACb;EAEA,MAAMC,aAAaA,CAAA,EAAG;IACpB,OAAO,MAAM,IAAI,CAACX,QAAQ,CAACY,GAAG,CAAC,GAAG,CAAC;EACrC;EAEA,MAAMC,YAAYA,CAACC,MAAM,EAAEC,KAAK,EAAEC,WAAW,EAAEC,IAAI,EAAEC,aAAa,EAAE;IAClEC,OAAO,CAACC,GAAG,CAACH,IAAI,CAAC;IACjBE,OAAO,CAACC,GAAG,CAACJ,WAAW,CAAC;IACxB,OAAO,MAAM,IAAI,CAAChB,QAAQ,CAACqB,IAAI,CAAC,GAAG,EAAE;MACnCC,IAAI,EAAER,MAAM,CAACQ,IAAI;MACjBC,MAAM,EAAET,MAAM,CAACS,MAAM;MACrBR,KAAK,EAAEA,KAAK;MACZC,WAAW,EAAEA,WAAW;MACxBC,IAAI,EAAEA,IAAI;MACVC,aAAa,EAAEA;IACjB,CAAC,CAAC;EACJ;EAEA,MAAMM,YAAYA,CAACC,EAAE,EAAE;IACrB,OAAO,MAAM,IAAI,CAACzB,QAAQ,CAAC0B,MAAM,CAAE,IAAGD,EAAG,EAAC,CAAC;EAC7C;EAEA,MAAME,YAAYA,CAACF,EAAE,EAAEX,MAAM,EAAEG,IAAI,EAAE;IACnC,OAAO,MAAM,IAAI,CAACjB,QAAQ,CAAC4B,GAAG,CAAE,IAAGH,EAAG,EAAC,EAAE;MACvCH,IAAI,EAAER,MAAM,CAACQ,IAAI;MACjBC,MAAM,EAAET,MAAM,CAACS,MAAM;MACrBN,IAAI,EAAEH,MAAM,CAACG;IACf,CAAC,CAAC;EACJ;AACF;AAEA,MAAMY,aAAa,GAAG,IAAIhC,aAAa,EAAE;AACzC,eAAegC,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}