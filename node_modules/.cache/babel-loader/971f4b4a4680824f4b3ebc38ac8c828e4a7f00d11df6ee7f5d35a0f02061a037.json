{"ast":null,"code":"import _regeneratorRuntime from\"/home/matthew/Developer/ga/unit_3/projects/movie-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/matthew/Developer/ga/unit_3/projects/movie-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/home/matthew/Developer/ga/unit_3/projects/movie-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/matthew/Developer/ga/unit_3/projects/movie-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/matthew/Developer/ga/unit_3/projects/movie-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import*as usersService from'../../services/usersService';import authComponentsClasses from'./authComponentsClasses';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function LoginForm(_ref){var setUser=_ref.setUser,setShowLogin=_ref.setShowLogin,showLogin=_ref.showLogin;var _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),credentials=_useState2[0],setCredentials=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];function handleChange(evt){setCredentials(_objectSpread(_objectSpread({},credentials),{},_defineProperty({},evt.target.name,evt.target.value)));setError('');}function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(evt){var user;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:// Prevent form from being submitted to the server\nevt.preventDefault();_context.prev=1;_context.next=4;return usersService.login(credentials);case 4:user=_context.sent;setUser(user);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);setError('Log In Failed - Try Again');case 11:case\"end\":return _context.stop();}},_callee,null,[[1,8]]);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:authComponentsClasses.container,children:[/*#__PURE__*/_jsx(\"div\",{className:authComponentsClasses.image,style:{backgroundImage:\"url('/login.jpg')\"}}),/*#__PURE__*/_jsxs(\"div\",{className:authComponentsClasses.formContainer,children:[/*#__PURE__*/_jsx(\"h2\",{className:authComponentsClasses.heading,children:\"Movie Review Login\"}),/*#__PURE__*/_jsxs(\"form\",{className:authComponentsClasses.form,autoComplete:\"off\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:authComponentsClasses.label,children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",value:credentials.email,onChange:handleChange,required:true,className:authComponentsClasses.input,placeholder:\"Email\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:authComponentsClasses.label,children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:credentials.password,onChange:handleChange,required:true,className:authComponentsClasses.input,placeholder:\"Password\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:authComponentsClasses.button,children:\"Login\"})]}),/*#__PURE__*/_jsx(\"p\",{className:authComponentsClasses.error,children:error})]}),/*#__PURE__*/_jsxs(\"div\",{className:authComponentsClasses.container2,children:[\"Don't have an account?\",/*#__PURE__*/_jsx(\"h3\",{className:authComponentsClasses.button2,onClick:function onClick(){return setShowLogin(!showLogin);},children:\"SIGN UP\"})]})]})]});}","map":{"version":3,"names":["useState","usersService","authComponentsClasses","jsx","_jsx","jsxs","_jsxs","LoginForm","_ref","setUser","setShowLogin","showLogin","_useState","email","password","_useState2","_slicedToArray","credentials","setCredentials","_useState3","_useState4","error","setError","handleChange","evt","_objectSpread","_defineProperty","target","name","value","handleSubmit","_x","_handleSubmit","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","user","wrap","_callee$","_context","prev","next","preventDefault","login","sent","t0","stop","className","container","children","image","style","backgroundImage","formContainer","heading","form","autoComplete","onSubmit","htmlFor","label","type","onChange","required","input","placeholder","button","container2","button2","onClick"],"sources":["/home/matthew/Developer/ga/unit_3/projects/movie-app/src/components/AuthComponents/LoginForm.jsx"],"sourcesContent":["import { useState } from 'react'\nimport * as usersService from '../../services/usersService'\n\nimport authComponentsClasses from './authComponentsClasses'\n\nexport default function LoginForm({ setUser, setShowLogin, showLogin }) {\n  const [credentials, setCredentials] = useState({\n    email: '',\n    password: '',\n  })\n  const [error, setError] = useState('')\n\n  function handleChange(evt) {\n    setCredentials({ ...credentials, [evt.target.name]: evt.target.value })\n    setError('')\n  }\n\n  async function handleSubmit(evt) {\n    // Prevent form from being submitted to the server\n    evt.preventDefault()\n    try {\n      const user = await usersService.login(credentials)\n      setUser(user)\n    } catch {\n      setError('Log In Failed - Try Again')\n    }\n  }\n\n  return (\n    <div className={authComponentsClasses.container}>\n      <div\n        className={authComponentsClasses.image}\n        style={{ backgroundImage: \"url('/login.jpg')\" }}\n      />\n      <div className={authComponentsClasses.formContainer}>\n        <h2 className={authComponentsClasses.heading}>Movie Review Login</h2>\n        <form\n          className={authComponentsClasses.form}\n          autoComplete=\"off\"\n          onSubmit={handleSubmit}\n        >\n          <div className=\"flex flex-col gap-2\">\n            <label htmlFor=\"email\" className={authComponentsClasses.label}>\n              Email\n            </label>\n            <input\n              type=\"text\"\n              name=\"email\"\n              value={credentials.email}\n              onChange={handleChange}\n              required\n              className={authComponentsClasses.input}\n              placeholder=\"Email\"\n            />\n            <label htmlFor=\"password\" className={authComponentsClasses.label}>\n              Password\n            </label>\n            <input\n              type=\"password\"\n              name=\"password\"\n              value={credentials.password}\n              onChange={handleChange}\n              required\n              className={authComponentsClasses.input}\n              placeholder=\"Password\"\n            />\n\n            <button type=\"submit\" className={authComponentsClasses.button}>\n              Login\n            </button>\n          </div>\n          <p className={authComponentsClasses.error}>{error}</p>\n        </form>\n        <div className={authComponentsClasses.container2}>\n          Don't have an account?\n          <h3\n            className={authComponentsClasses.button2}\n            onClick={() => setShowLogin(!showLogin)}\n          >\n            SIGN UP\n          </h3>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}