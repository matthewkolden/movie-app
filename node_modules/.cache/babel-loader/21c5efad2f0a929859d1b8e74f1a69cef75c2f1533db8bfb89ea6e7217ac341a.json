{"ast":null,"code":"import{useController}from'../../Controller';import{useEffect}from'react';import{useParams}from'react-router-dom';import ReviewForm from'../../components/ReviewForm/ReviewForm';import Review from'../../components/Review/Review';import moviePageClasses from'./moviePageClasses';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function MoviePage(_ref){var _movie$Ratings;var user=_ref.user;var _useController=useController(),getMoviePage=_useController.getMoviePage,movie=_useController.movie,setMovie=_useController.setMovie,getAllReviews=_useController.getAllReviews,reviews=_useController.reviews;var params=useParams();var id=params.id;useEffect(function(){setMovie(getMoviePage(id));getAllReviews();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);return/*#__PURE__*/_jsx(\"div\",{className:moviePageClasses.container,children:movie&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:moviePageClasses.imageContainer,children:/*#__PURE__*/_jsxs(\"div\",{className:moviePageClasses.imageFlexContainer,children:[/*#__PURE__*/_jsx(\"img\",{className:moviePageClasses.image,src:movie.Poster,alt:\"\".concat(movie.Title,\" poster\")}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-6 \",children:[/*#__PURE__*/_jsx(\"h1\",{className:moviePageClasses.title,children:movie.Title}),/*#__PURE__*/_jsxs(\"div\",{className:moviePageClasses.div,children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold \",children:\"Actors:\"}),/*#__PURE__*/_jsx(\"p\",{children:movie.Actors})]}),/*#__PURE__*/_jsxs(\"div\",{className:moviePageClasses.div,children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold\",children:\"Director:\"}),/*#__PURE__*/_jsx(\"p\",{children:movie.Director})]}),/*#__PURE__*/_jsxs(\"div\",{className:moviePageClasses.div,children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold\",children:\"Genre:\"}),/*#__PURE__*/_jsx(\"p\",{children:movie.Genre})]}),/*#__PURE__*/_jsx(\"p\",{className:moviePageClasses.plot,children:movie.Plot}),/*#__PURE__*/_jsxs(\"div\",{className:moviePageClasses.div,children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold \",children:\"Runtime:\"}),/*#__PURE__*/_jsx(\"p\",{children:movie.Runtime})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col my-16\",children:movie===null||movie===void 0?void 0:(_movie$Ratings=movie.Ratings)===null||_movie$Ratings===void 0?void 0:_movie$Ratings.map(function(rating,index){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:moviePageClasses.ratingContainer,children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold\",children:rating.Source}),/*#__PURE__*/_jsx(\"div\",{children:rating.Value})]})},index);})})]})]})}),/*#__PURE__*/_jsx(\"hr\",{className:\"border border-2 w-full border-slate-800 shadow-2xl\"}),/*#__PURE__*/_jsx(\"h2\",{className:moviePageClasses.reviewTitle,children:\"Reviews\"}),/*#__PURE__*/_jsxs(\"div\",{className:moviePageClasses.reviewsContainer,children:[/*#__PURE__*/_jsx(\"div\",{className:moviePageClasses.reviewListContainer,children:reviews&&reviews.length>0&&/*#__PURE__*/_jsx(_Fragment,{children:reviews.map(function(review,i){if(review.movie===movie.imdbID){return/*#__PURE__*/_jsx(Review,{review:review,user:user},i);}return undefined;})})}),/*#__PURE__*/_jsx(ReviewForm,{movie:movie,user:user})]})]})});}","map":{"version":3,"names":["useController","useEffect","useParams","ReviewForm","Review","moviePageClasses","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MoviePage","_ref","_movie$Ratings","user","_useController","getMoviePage","movie","setMovie","getAllReviews","reviews","params","id","className","container","children","imageContainer","imageFlexContainer","image","src","Poster","alt","concat","Title","title","div","Actors","Director","Genre","plot","Plot","Runtime","Ratings","map","rating","index","ratingContainer","Source","Value","reviewTitle","reviewsContainer","reviewListContainer","length","review","i","imdbID","undefined"],"sources":["/home/matthew/Developer/ga/unit_3/projects/movie-app/src/pages/MoviePage/MoviePage.jsx"],"sourcesContent":["import { useController } from '../../Controller'\nimport { useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\n\nimport ReviewForm from '../../components/ReviewForm/ReviewForm'\nimport Review from '../../components/Review/Review'\n\nimport moviePageClasses from './moviePageClasses'\n\nexport default function MoviePage({ user }) {\n  const { getMoviePage, movie, setMovie, getAllReviews, reviews } =\n    useController()\n\n  const params = useParams()\n  const id = params.id\n\n  useEffect(() => {\n    setMovie(getMoviePage(id))\n    getAllReviews()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <div className={moviePageClasses.container}>\n      {movie && (\n        <>\n          <div className={moviePageClasses.imageContainer}>\n            <div className={moviePageClasses.imageFlexContainer}>\n              <img\n                className={moviePageClasses.image}\n                src={movie.Poster}\n                alt={`${movie.Title} poster`}\n              />\n              <div className=\"flex flex-col gap-6 \">\n                <h1 className={moviePageClasses.title}>{movie.Title}</h1>\n                <div className={moviePageClasses.div}>\n                  <h4 className=\"font-semibold \">Actors:</h4>\n                  <p>{movie.Actors}</p>\n                </div>\n                <div className={moviePageClasses.div}>\n                  <h4 className=\"font-semibold\">Director:</h4>\n                  <p>{movie.Director}</p>\n                </div>\n                <div className={moviePageClasses.div}>\n                  <h4 className=\"font-semibold\">Genre:</h4>\n                  <p>{movie.Genre}</p>\n                </div>\n                <p className={moviePageClasses.plot}>{movie.Plot}</p>\n                <div className={moviePageClasses.div}>\n                  <h4 className=\"font-semibold \">Runtime:</h4>\n                  <p>{movie.Runtime}</p>\n                </div>\n\n                <div className=\"flex flex-col my-16\">\n                  {movie?.Ratings?.map((rating, index) => (\n                    <div key={index}>\n                      <div className={moviePageClasses.ratingContainer}>\n                        <div className=\"font-semibold\">{rating.Source}</div>\n                        <div>{rating.Value}</div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n          <hr className=\"border border-2 w-full border-slate-800 shadow-2xl\" />\n          <h2 className={moviePageClasses.reviewTitle}>Reviews</h2>\n\n          <div className={moviePageClasses.reviewsContainer}>\n            <div className={moviePageClasses.reviewListContainer}>\n              {reviews && reviews.length > 0 && (\n                <>\n                  {reviews.map((review, i) => {\n                    if (review.movie === movie.imdbID) {\n                      return <Review key={i} review={review} user={user} />\n                    }\n                    return undefined\n                  })}\n                </>\n              )}\n            </div>\n            <ReviewForm movie={movie} user={user} />\n          </div>\n        </>\n      )}\n    </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}