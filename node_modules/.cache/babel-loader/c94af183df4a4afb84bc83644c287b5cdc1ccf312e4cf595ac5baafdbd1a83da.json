{"ast":null,"code":"import _regeneratorRuntime from\"/home/matthew/Developer/ga/unit_3/projects/movie-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/matthew/Developer/ga/unit_3/projects/movie-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useController}from'../../Controller';import{useEffect}from'react';import{useParams}from'react-router-dom';import ReviewForm from'../../components/ReviewForm/ReviewForm';import Review from'../../components/Review/Review';import moviePageClasses from'./moviePageClasses';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function MoviePage(_ref){var _movie$Ratings;var user=_ref.user;var _useController=useController(),getMoviePage=_useController.getMoviePage,movie=_useController.movie,setMovie=_useController.setMovie,getAllReviews=_useController.getAllReviews,reviews=_useController.reviews;var params=useParams();var id=params.id;useEffect(function(){function grabMovie(){return _grabMovie.apply(this,arguments);}function _grabMovie(){_grabMovie=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return setMovie(getMoviePage(id));case 2:case\"end\":return _context.stop();}},_callee);}));return _grabMovie.apply(this,arguments);}grabMovie();getAllReviews();},[]);return/*#__PURE__*/_jsx(\"div\",{className:moviePageClasses.container,children:movie&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:moviePageClasses.imageContainer,children:/*#__PURE__*/_jsxs(\"div\",{className:moviePageClasses.imageFlexContainer,children:[/*#__PURE__*/_jsx(\"img\",{className:moviePageClasses.image,src:movie.Poster}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-6 \",children:[/*#__PURE__*/_jsx(\"h1\",{className:moviePageClasses.title,children:movie.Title}),/*#__PURE__*/_jsxs(\"div\",{className:moviePageClasses.div,children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold \",children:\"Actors:\"}),/*#__PURE__*/_jsx(\"p\",{children:movie.Actors})]}),/*#__PURE__*/_jsxs(\"div\",{className:moviePageClasses.div,children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold\",children:\"Director:\"}),/*#__PURE__*/_jsx(\"p\",{children:movie.Director})]}),/*#__PURE__*/_jsxs(\"div\",{className:moviePageClasses.div,children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold\",children:\"Genre:\"}),/*#__PURE__*/_jsx(\"p\",{children:movie.Genre})]}),/*#__PURE__*/_jsx(\"p\",{className:moviePageClasses.plot,children:movie.Plot}),/*#__PURE__*/_jsxs(\"div\",{className:moviePageClasses.div,children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold \",children:\"Runtime:\"}),/*#__PURE__*/_jsx(\"p\",{children:movie.Runtime})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col my-16\",children:movie===null||movie===void 0?void 0:(_movie$Ratings=movie.Ratings)===null||_movie$Ratings===void 0?void 0:_movie$Ratings.map(function(rating,index){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:moviePageClasses.ratingContainer,children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-semibold\",children:rating.Source}),/*#__PURE__*/_jsx(\"div\",{children:rating.Value})]})},index);})})]})]})}),/*#__PURE__*/_jsx(\"hr\",{className:\"border border-2 w-full border-slate-800 shadow-2xl\"}),/*#__PURE__*/_jsx(\"h2\",{className:moviePageClasses.reviewTitle,children:\"Reviews\"}),/*#__PURE__*/_jsxs(\"div\",{className:moviePageClasses.reviewsContainer,children:[/*#__PURE__*/_jsx(\"div\",{className:moviePageClasses.reviewListContainer,children:reviews&&reviews.length>0&&/*#__PURE__*/_jsx(_Fragment,{children:reviews.map(function(review,i){if(review.movie===movie.imdbID)return/*#__PURE__*/_jsx(Review,{review:review,user:user},i);})})}),/*#__PURE__*/_jsx(ReviewForm,{movie:movie,user:user})]})]})});}","map":{"version":3,"names":["useController","useEffect","useParams","ReviewForm","Review","moviePageClasses","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MoviePage","_ref","_movie$Ratings","user","_useController","getMoviePage","movie","setMovie","getAllReviews","reviews","params","id","grabMovie","_grabMovie","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","stop","className","container","children","imageContainer","imageFlexContainer","image","src","Poster","title","Title","div","Actors","Director","Genre","plot","Plot","Runtime","Ratings","map","rating","index","ratingContainer","Source","Value","reviewTitle","reviewsContainer","reviewListContainer","length","review","i","imdbID"],"sources":["/home/matthew/Developer/ga/unit_3/projects/movie-app/src/pages/MoviePage/MoviePage.jsx"],"sourcesContent":["import { useController } from '../../Controller'\nimport { useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\n\nimport ReviewForm from '../../components/ReviewForm/ReviewForm'\nimport Review from '../../components/Review/Review'\n\nimport moviePageClasses from './moviePageClasses'\n\nexport default function MoviePage({ user }) {\n  const { getMoviePage, movie, setMovie, getAllReviews, reviews } =\n    useController()\n\n  const params = useParams()\n  const id = params.id\n\n  useEffect(() => {\n    async function grabMovie() {\n      await setMovie(getMoviePage(id))\n    }\n    grabMovie()\n    getAllReviews()\n  }, [])\n\n  return (\n    <div className={moviePageClasses.container}>\n      {movie && (\n        <>\n          <div className={moviePageClasses.imageContainer}>\n            <div className={moviePageClasses.imageFlexContainer}>\n              <img className={moviePageClasses.image} src={movie.Poster} />\n              <div className=\"flex flex-col gap-6 \">\n                <h1 className={moviePageClasses.title}>{movie.Title}</h1>\n                <div className={moviePageClasses.div}>\n                  <h4 className=\"font-semibold \">Actors:</h4>\n                  <p>{movie.Actors}</p>\n                </div>\n                <div className={moviePageClasses.div}>\n                  <h4 className=\"font-semibold\">Director:</h4>\n                  <p>{movie.Director}</p>\n                </div>\n                <div className={moviePageClasses.div}>\n                  <h4 className=\"font-semibold\">Genre:</h4>\n                  <p>{movie.Genre}</p>\n                </div>\n                <p className={moviePageClasses.plot}>{movie.Plot}</p>\n                <div className={moviePageClasses.div}>\n                  <h4 className=\"font-semibold \">Runtime:</h4>\n                  <p>{movie.Runtime}</p>\n                </div>\n\n                <div className=\"flex flex-col my-16\">\n                  {movie?.Ratings?.map((rating, index) => (\n                    <div key={index}>\n                      <div className={moviePageClasses.ratingContainer}>\n                        <div className=\"font-semibold\">{rating.Source}</div>\n                        <div>{rating.Value}</div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n          <hr className=\"border border-2 w-full border-slate-800 shadow-2xl\" />\n          <h2 className={moviePageClasses.reviewTitle}>Reviews</h2>\n\n          <div className={moviePageClasses.reviewsContainer}>\n            <div className={moviePageClasses.reviewListContainer}>\n              {reviews && reviews.length > 0 && (\n                <>\n                  {reviews.map((review, i) => {\n                    if (review.movie === movie.imdbID)\n                      return <Review key={i} review={review} user={user} />\n                  })}\n                </>\n              )}\n            </div>\n            <ReviewForm movie={movie} user={user} />\n          </div>\n        </>\n      )}\n    </div>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}